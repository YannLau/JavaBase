P155——P191

[toc]

# 数组基础

数组是一种数据类型，是一种引用类型！

> 几种声明方法
>
> 数组刚刚声明，是不能直接使用的
>
> elementType[] name;
>
> elementType name[];
>
> 数组的创建，会在堆内存中开辟一块连续的空间地址, 来存储数组的元素
>
> 数组创建时，必须要给数组的长度。
>
> 数组长度一旦确定， 就不能再进行改变。
>
> ### 静态创建数组
>
> ​        int[] x;        x = new int[] { 12, 23, 34 };
>
> ​	double[] y={12.4,23,5,43.2};
>
> ```java
> double[] y={12.4,23,5,43.2}; //省略 new double[]，一次成型写法  
> double[] y; 
> y= {12.4, 23，5，43.2}; //这种写法不被允许，不能省略new double  
> double[] y; 
> y=new double[]{12.4, 23，5，43.2};  //这种可以，即写法一
> ```
>
> ### 动态创建数组
>
> ```java
> 1. 数据类型[] 数组名 = new 数据类型[size大小]；
> 2. 数据类型 数组名[] = new 数据类型[size大小]
>   //动态创建数组
> //数组类型[] 数组名=new 数组类型[长度(数组中存储元素的个数)];
> int[] x = new int[5];  //未赋值
> x[0]=12;//为数组的元素赋值
> 
> 3. 数据类型[] 数组名;  //分开创建
> 	数组名 = new 数据类型[size大小];//new 才是真正在内存中开辟数组空间！
> ```
>
> ### 动态静态区别
>
> 区别: 如果数组元素的个数比较少，并且一开始就知道数组元素的内容和长度，就可以使用静态创建数组的方式。如果数组元素不固定，并且较多，动态创建数组的方式。
>
> ### 数组中的元素会有默认值（基本数据类型）
>
> 按基本数据类型默认值  
>
> ( 整数0, 浮点0.0, 字符类型\u0000, 布尔false ) 
>
> 引用类型，如String默认值为”空指针“null

数组使用注意事项和细节

1. 数组是多个相同类型数据的组合，实现对这些数据的统一管理
2. 数组中的元素可以是任何数据类型，包括基本类型和引用类型，但是不能混用。
3. 数组创建后如果没有赋值，有默认值
  int 0, short 0, byte 0, long 0, float 0.0 ,double 0.0, char \u0000, boolean false, String null
4. 使用数组的步骤 1. 声明数组并开辟空间 2. 给数组各个元素赋值 3. 使用数组
5. 数组的下标是从0开始的。
6. 数组下标必须在指定范围内使用，否则报：下标越界异常，比如 int [] arr=new int［5］：则有效下标为0-4
7. 数组属引用类型，数组型数据是对象（object）

JVM内存 分为 `栈  堆  方法区`

引用类型相当于 C 语言的指针！

new 操作会在堆区，创建开辟新的空间来存储！

当堆区的数组没有变量名指向时，JVM 会清理掉堆区的数组，把他当做来及清理掉。

## 二维数组

> Java 多维数组的限制是几维？
>
> 理论上无限，受限于你的机器内存和CPU性能。往每个*数组*里再存数组罢了。
>
> 创建数组的指令是anewarray，而这个指令不能用于创建维度超过255维的数组--java虚拟机规范Java SE 8版

Java中二维（多维）数组的实现逻辑和C语言的应该不同。

C语言的存储方式是一维的，线性的，所以必须要声明列数，如int a[\][6];

对一维的数组进行拆分，能够告诉计算机到哪里该断开。而Java的是通过链接的方式，类似于索引文件，第一维存放第二维的地址，因此不需要对列数作出规定，但要对行数作出规定，如int[6\][] a;

二维数组的声明

> 二维数组的声明
>
> `int[][] a;`
>
> `int b[][];`
>
> `int[] c[];`
>
> ```java
> //静态创建二维数组 数组的长度和元素都有
> int[][] a = {{12, 23}, {123, 34, 45}, {11, 45, 673, 134, 6533}};
> int[][] b = new int[][]{{12, 23}, {23, 34, 45}, {11, 45, 67}, {34, 653}};
> //动态创建二维数组
> int[][] c = new int[3][];
> //此时，二维数组的第二维并没有被初始化，引用时会出现空指针异常
> ```